# VCoN MVP (iOS + macOS)

Ниже — минимальный, реалистичный план MVP для клиента VPN **VCoN** на базе этого репозитория (форк Outline Client с поддержкой Shadowsocks и Xray/VLESS).

## 1) Цель MVP

Сделать приложение, которое:

- Показывает список серверов (страна, город, пинг, статус).
- Позволяет подключиться/отключиться к одному серверу.
- Хранит конфигурации VPS локально на устройстве.
- Работает на iOS и macOS через общий код.

## 2) Что берём из текущего репозитория

- Сетевой слой и VPN-туннель (как в Outline Client).
- Поддержку протоколов **Shadowsocks** и **Xray/VLESS**.
- Инфраструктуру для iOS/macOS (общий UI и платформа).

## 3) Структура конфигурации серверов

Храним список серверов локально в JSON (на первом этапе). Пример:

```json
[
  {
    "id": "de-fra-01",
    "name": "Germany · Frankfurt",
    "country": "DE",
    "protocol": "vless",
    "endpoint": "1.2.3.4:443",
    "security": {
      "uuid": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
      "publicKey": "...",
      "shortId": "..."
    }
  },
  {
    "id": "nl-ams-01",
    "name": "Netherlands · Amsterdam",
    "country": "NL",
    "protocol": "shadowsocks",
    "endpoint": "5.6.7.8:8388",
    "security": {
      "method": "chacha20-ietf-poly1305",
      "password": "..."
    }
  }
]
```

> На этапе MVP список серверов можно хранить в приложении (bundle) или в Keychain/NSUserDefaults, чтобы быстро редактировать во время тестов.

## 4) Экран MVP

Минимальные экраны:

1. **Onboarding/Welcome**
   - Кнопка «Добавить серверы» (загрузка JSON из файла или вставка).
2. **Список серверов**
   - Карточки с названием/страной/статусом.
   - Кнопка «Подключить».
3. **Экран подключения**
   - Статус (connecting/connected/disconnected).
   - Кнопка «Отключить».

## 5) Роадмап реализации (очень кратко)

1. **Model слой**: описать формат серверов (enum протоколов + структура безопасности).
2. **Storage**: чтение JSON из bundle + сохранение в локальное хранилище.
3. **UI**: список серверов + переключение состояния.
4. **VPN**: интеграция конфигурации в текущий туннельный слой.
5. **Telemetry/логирование**: только локальные логи (без отправки).

## 6) Следующие шаги после MVP

- Переключение протоколов и профилей в UI.
- Динамическая проверка пинга/latency.
- Удалённое обновление списка серверов (подпись, валидация).
- UI/UX полировка, мультиязычность.

---

Если нужно, могу помочь:

- Определить точную модель конфигурации серверов под ваши VPS.
- Сделать первый рабочий прототип экрана списка серверов.
- Интегрировать конкретные параметры Xray/VLESS и Shadowsocks.
